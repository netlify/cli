# Snapshot report for `tests/graph-codegen.test.js`

The actual snapshot is saved in `graph-codegen.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## netlify graph function codegen

> Snapshot 1

    '{"clientSource":"// GENERATED VIA NETLIFY AUTOMATED DEV TOOLS, EDIT WITH CAUTION!/n/n/n/n/n/nconst operationsDoc = `query ExampleQuery($package: String!) @netlify(id: /"d88888fb-ddfc-4833-9d9a-f3497cb7c992/", doc: /"A test query to snapshot/") {/n  npm {/n    package(name: $package) {/n      id/n      readme/n      license {/n        url/n      }/n    }/n  }/n}`/n/n/n/n/nconst fetchOneGraph = async function fetchOneGraph(input) {/n  const accessToken = input.accessToken /n  const query = input.query/n  const operationName = input.operationName/n  const variables = input.variables/n  const options = input.options || {}/n/n  const siteId = options.siteId || process.env.SITE_ID/n/n  const payload = {/n    query: query,/n    variables: variables,/n    operationName: operationName,/n  }/n/n  const result = await httpFetch(/n    siteId,/n    {/n      method: \'POST\',/n      headers: {/n        Authorization: accessToken ? /"Bearer /" + accessToken : \'\',/n      },/n      body: JSON.stringify(payload),/n    },/n  )/n/n  return JSON.parse(result)/n}/n/n/n/n/n/n  /n/**/n * The generated NetlifyGraph library with your operations/n *//nconst functions = {/n  /**/n  * A test query to snapshot/n  *//n  fetchExampleQuery: exports.fetchExampleQuery/n}/n/nexports.default = functions/n/n","typeDefinitionsSource":"// GENERATED VIA NETLIFY AUTOMATED DEV TOOLS, EDIT WITH CAUTION!/n/nexport type NetlifyGraphFunctionOptions = {/n  accessToken?: string;/n  siteId?: string; /n}/n/nexport type WebhookEvent = {/n  body: string;/n  headers: Record<string, string | null | undefined>;/n};/n/nexport type GraphQLError = {/n  /"path/": Array<string | number>,/n  /"message/": string,/n  /"extensions/": Record<string, unknown>/n};/n/n/n/nexport type ExampleQueryInput = {/"package/": string};/n/nexport type ExampleQuery = {/n  /**/n  * Any data from the function will be returned here/n  *//ndata: {/n  /**/n  * The root for npm queries/n  *//nnpm: {/n  /**/n  * Find a npm package member by its npm name, e.g. `/"fela/"`/n  *//npackage: {/n  /**/n  * The package name, used as an ID in CouchDB/n  *//nid: string;/n  /**/n  * The first 64K of the README data for the most-recently published version of the package/n  *//nreadme: string;/n  /**/n  * The license for this package/n  *//nlicense: {/n  /**/n  * A url for the full license/n  *//nurl: string;/n};/n};/n};/n};/n  /**/n  * Any errors from the function will be returned here/n  *//nerrors: Array<GraphQLError>;/n};/n/n/**/n * A test query to snapshot/n *//nexport function fetchExampleQuery(/n  variables: ExampleQueryInput,/n  options?: NetlifyGraphFunctionOptions/n): Promise<ExampleQuery>;/n","functionDefinitions":[{"id":"d88888fb-ddfc-4833-9d9a-f3497cb7c992","operationString":"query ExampleQuery($package: String!) @netlify(id: /"d88888fb-ddfc-4833-9d9a-f3497cb7c992/", doc: /"A test query to snapshot/") {/n  npm {/n    package(name: $package) {/n      id/n      readme/n      license {/n        url/n      }/n    }/n  }/n}","description":"A test query to snapshot","fnName":"fetchExampleQuery","safeBody":"query ExampleQuery($package: String!) @netlify(id: /"d88888fb-ddfc-4833-9d9a-f3497cb7c992/", doc: /"A test query to snapshot/") {/n  npm {/n    package(name: $package) {/n      id/n      readme/n      license {/n        url/n      }/n    }/n  }/n}","kind":"query","variableSignature":"{/"package/": string}","returnSignature":"{/n  /**/n  * Any data from the function will be returned here/n  *//ndata: {/n  /**/n  * The root for npm queries/n  *//nnpm: {/n  /**/n  * Find a npm package member by its npm name, e.g. `/"fela/"`/n  *//npackage: {/n  /**/n  * The package name, used as an ID in CouchDB/n  *//nid: string;/n  /**/n  * The first 64K of the README data for the most-recently published version of the package/n  *//nreadme: string;/n  /**/n  * The license for this package/n  *//nlicense: {/n  /**/n  * A url for the full license/n  *//nurl: string;/n};/n};/n};/n};/n  /**/n  * Any errors from the function will be returned here/n  *//nerrors: Array<GraphQLError>;/n}","operationName":"ExampleQuery","parsedOperation":{"kind":"OperationDefinition","operation":"query","name":{"kind":"Name","value":"ExampleQuery","loc":{"start":6,"end":18}},"variableDefinitions":[{"kind":"VariableDefinition","variable":{"kind":"Variable","name":{"kind":"Name","value":"package","loc":{"start":20,"end":27}},"loc":{"start":19,"end":27}},"type":{"kind":"NonNullType","type":{"kind":"NamedType","name":{"kind":"Name","value":"String","loc":{"start":29,"end":35}},"loc":{"start":29,"end":35}},"loc":{"start":29,"end":36}},"directives":[],"loc":{"start":19,"end":36}}],"directives":[{"kind":"Directive","name":{"kind":"Name","value":"netlify","loc":{"start":39,"end":46}},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"id","loc":{"start":47,"end":49}},"value":{"kind":"StringValue","value":"d88888fb-ddfc-4833-9d9a-f3497cb7c992","block":false,"loc":{"start":51,"end":89}},"loc":{"start":47,"end":89}},{"kind":"Argument","name":{"kind":"Name","value":"doc","loc":{"start":91,"end":94}},"value":{"kind":"StringValue","value":"A test query to snapshot","block":false,"loc":{"start":96,"end":122}},"loc":{"start":91,"end":122}}],"loc":{"start":38,"end":123}}],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"npm","loc":{"start":128,"end":131}},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"package","loc":{"start":138,"end":145}},"arguments":[{"kind":"Argument","name":{"kind":"Name","value":"name","loc":{"start":146,"end":150}},"value":{"kind":"Variable","name":{"kind":"Name","value":"package","loc":{"start":153,"end":160}},"loc":{"start":152,"end":160}},"loc":{"start":146,"end":160}}],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"id","loc":{"start":170,"end":172}},"arguments":[],"directives":[],"loc":{"start":170,"end":172}},{"kind":"Field","name":{"kind":"Name","value":"readme","loc":{"start":179,"end":185}},"arguments":[],"directives":[],"loc":{"start":179,"end":185}},{"kind":"Field","name":{"kind":"Name","value":"license","loc":{"start":192,"end":199}},"arguments":[],"directives":[],"selectionSet":{"kind":"SelectionSet","selections":[{"kind":"Field","name":{"kind":"Name","value":"url","loc":{"start":210,"end":213}},"arguments":[],"directives":[],"loc":{"start":210,"end":213}}],"loc":{"start":200,"end":221}},"loc":{"start":192,"end":221}}],"loc":{"start":162,"end":227}},"loc":{"start":138,"end":227}}],"loc":{"start":132,"end":231}},"loc":{"start":128,"end":231}}],"loc":{"start":124,"end":233}},"loc":{"start":0,"end":233}},"operationStringWithoutNetlifyDirective":"query ExampleQuery($package: String!) {/n  npm {/n    package(name: $package) {/n      id/n      readme/n      license {/n        url/n      }/n    }/n  }/n}"}]}'
