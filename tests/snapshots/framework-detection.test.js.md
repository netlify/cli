# Snapshot report for `tests/framework-detection.test.js`

The actual snapshot is saved in `framework-detection.test.js.snap`.

Generated by [AVA](https://avajs.dev).

## should default to process.cwd() and static server

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ No app server detected and no "command" specifiedâŠ
    â—ˆ Using current working directoryâŠ
    â—ˆ Unable to determine public folder to serve files fromâŠ
    â—ˆ Setup a netlify.toml file with a [dev] section to specify your dev server settings.âŠ
    â—ˆ See docs at: https://cli.netlify.com/netlify-dev#project-detectionâŠ
    â—ˆ Running static server from "site-with-index-file"âŠ
    âŠ
    â—ˆ Server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should use static server when --dir flag is passed

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because --dir flag was specifiedâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    âŠ
    â—ˆ Server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should use static server when framework is set to #static

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ No app server detected and no "command" specifiedâŠ
    â—ˆ Using current working directoryâŠ
    â—ˆ Unable to determine public folder to serve files fromâŠ
    â—ˆ Setup a netlify.toml file with a [dev] section to specify your dev server settings.âŠ
    â—ˆ See docs at: https://cli.netlify.com/netlify-dev#project-detectionâŠ
    â—ˆ Running static server from "site-with-index-file"âŠ
    âŠ
    â—ˆ Server listening to 88888âŠ
    âŠ
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”âŠ
       â”‚                                                  â”‚âŠ
       â”‚   â—ˆ Server now ready on http://localhost:88888   â”‚âŠ
       â”‚                                                  â”‚âŠ
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜âŠ
    âŠ
    `

## should report error if using static server and `command` is configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because --dir flag was specifiedâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    â—ˆ "command" option cannot be used in conjunction with "dir" flag which is used to run a static server`

## should error if using static server and `targetPort` is configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Using simple static server because --dir flag was specifiedâŠ
    â—ˆ Running static server from "site-with-index-file/public"âŠ
    â—ˆ "targetPort" option cannot be used in conjunction with "dir" flag which is used to run a static server`

## should error when `command` and `targetPort` when configured, but framework is not

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ "framework" option must be set to "#custom" when specifying both "command" and "targetPort" options`

## should error when a specific framework is configured but not detected

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Specified "framework" detector "create-react-app" did not pass requirements for your project`

## should throw when forcing a non supported framework

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Unsupported value provided for "framework" option in config. Please use "#custom" if you're using a framework not intrinsically supported by Netlify Dev. E.g. with "command" and "targetPort" options. Or use one of following values: "angular", "brunch", "create-react-app", "docusaurus", "eleventy", "ember", "expo", "gatsby", "gridsome", "hexo", "hugo", "jekyll", "middleman", "next", "nuxt", "parcel", "phenomic", "quasar-v0.17", "quasar", "react-static", "redwoodjs", "sapper", "stencil", "svelte-kit", "svelte", "vite", "vue", "vuepress"`

## should detect a known framework

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Starting Netlify Dev with create-react-appâŠ
    âŠ
    > startâŠ
    > react-scripts startâŠ
    âŠ
    â—ˆ "npm start" exited with code *. Shutting down Netlify Dev server`

## should throw if framework=#custom but command is missing

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ "command" and "targetPort" properties are required when "framework" is set to "#custom"`

## should throw if framework=#custom but targetPort is missing

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ "command" and "targetPort" properties are required when "framework" is set to "#custom"`

## should start custom command if framework=#custom, command and targetPort are configured

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    â—ˆ Overriding command with setting derived from netlify.toml [dev] block: cat non-existingâŠ
    â—ˆ Starting Netlify Dev with #customâŠ
    â—ˆ "cat non-existing" exited with code *. Shutting down Netlify Dev server`

## should prompt when multiple frameworks are detected

> Snapshot 1

    `â—ˆ Netlify Dev â—ˆâŠ
    ? Multiple possible start commands found (Use arrow keys or type to search)âŠ
    > [create-react-app] npm start âŠ
      [gatsby] npm start âŠ
      [gatsby] npm develop [3A[23D[75C[3B[2K[1A[2K[1A[2K[1A[2K[G? Multiple possible start commands found âŠ
      [create-react-app] npm start âŠ
    > [gatsby] npm start âŠ
      [gatsby] npm develop [3A[23D[41C[3B[2K[1A[2K[1A[2K[1A[2K[G? Multiple possible start commands found gatsby-start[53D[53CâŠ
    Add \`framework = "gatsby"\` to [dev] section of your netlify.toml to avoid this selection prompt next timeâŠ
    â—ˆ Starting Netlify Dev with gatsbyâŠ
    âŠ
    > startâŠ
    > react-scripts startâŠ
    âŠ
    â—ˆ "npm start" exited with code *. Shutting down Netlify Dev server`
